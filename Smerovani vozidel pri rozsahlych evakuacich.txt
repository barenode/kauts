Smerovani vozidel pri rozsahlych evakuacich

Problem smerovani vozidel (VRP - Vehicle Routing Problem) je optimalizacni uloha pro planovani tras flotily vozidel pro obsluhu skupiny zakazniku. Tato uloha patøí mezi tzv. NP-tìžké úlohy, to znamena ze v obecném pøípadì není známo, ani jak pro každý vstup nalézt pøesné øešení v rozumném èase, a dokonce ani zda vùbec mùže existovat algoritmus, který takové øešení najde v akceptovatelnem èase. V praxi se podobná úloha obvykle øeší pouze pøibližnì (heuristickými algoritmy, napø. genetickými algoritmy, tabu prohledáváním atd.). Tím se (za cenu vzdání se nároku na nalezení optimálního øešení) dosahuje prakticky použitelných èasù.
Pro pouziti v humanitarni oblasti, at uz pri evakuaci nebo distribuci pomoci existuje pro problémy se smìrováním vozidel nekolik variaci  a specializaci problému. Jedna se zejmena o variaci kdy se v problemu musi pocitat s omezenou kapacitou vozidel CVRP - Capacitated Vehicle Routing Problem). (MTCVRP -Multi-Trip Capacitated Vehicle Routing Problem ) je varianta CVRP kde je jednotlive vozidla mozne pouzit v ramci vice cest. V  je typickym cílem MTCVRP minimalizace souètu cestovních nákladu (v jednotkách èasu nebo v jednotkách vzdálenosti).
Kontext, který je blíže humanitárnímu pøístupu, lze nalézt v odborne literatuøe jako problém kumulativního kapacitního smìrování vozidel s více cestami (MT-CCVRP), což je varianta MTCVRP s tím rozdílem, že nyní je cílem minimalizace souètu èasù pøíjezdu do jednotlivych destinaci. To znamená minimalizaci èekací doby obìti katastrof žádajích o pomoc, také známé jako latence. V tomto èlánku budeme místo klasického latence uvažovat o maximální èekací doba v jednotlivych destinaci, tj. minimalizace èasu èekání poslední postižené obìti v oblasti katastrofy, která má být navštívena. Mezi klasickou a maximalni latenci je zasadni rozdil. Kdy pri humanitární katastrofì je dùležitìjší minimalizace èekací doby poslední postižené obìti evakuované pøi katastrofì  spíše než souèet všech. Tímto zpùsobem se snažíme vyhnout tomu ze by nektere postižene obìti v oblasti katastrofy èekaly na zachranmu velmi dlouho, zatim co by byl zbytek evakuován vyrazne døíve. To znamená, že se snažíme vyrovnat èekací dobu na evakuaci všech postižených.
[1]

CVRP a prislusne variace je obvykle definovan jako ohodnoceny orientovany graf kde uzly jsou jednotlive destinace (v nasem pripade obìti cekajici na zachranu) a hrany jsou trasy spojujici tyto destinace. Hodnoty hran odpovidaji jejich vzdalenosti resp. cedtovnimu casu. Prvni uzel typicky representuje depo kde je disponovana flotila identickych dopravnich prostredku s limitovanou kapacitou.
MTVRP vyžaduje stanovení sady jízd a pøiøazení každé jízdy k vozidlu tak, aby se minimalizoval èas jízdy a byly splnìny následující podmínky:

The MTVRP calls for the determination of a set of trips and an assignment of each trip to a  vehicle, such that the traveled time is minimized and the following conditions are satisfied:
(i) each trip starts and ends at the depot,
(ii) each customer is visited exactly once,
(iii) the sum of the demands of the customers in any trip does not exceed Q,
(iv) the sum of the durations of the trips assigned to the same vehicle (journey) does not
exceed TH (a trip duration being the sum of the travel times on arcs used in the trip).
[4]

Several approaches have been used for solving (or dealing with) different variants of the stochastic VRP. Here a review of these approaches is presented, trying to cover most of the methods designed to tackle such problems. The major dichotomy in
terms of solution methods is of course between exact methods on one side versus heuristic methods on the other. Although realistic stochastic VRP problems are often hard to solve, exact methods have been employed with some success. These methods view the problem as special case of an integer-, or mixed-integer program and employ some form of branching, so that eventually a probably optimal solution will be found. Even when employed  on instances that are too large for full convergence, the methods can often find very good solutions.

Pro øešení (nebo øešení) rùzných variant stochastického VRP bylo použito nìkolik pøístupù. Zde je pøehled tìchto pøístupù, které se snaží pokrýt vìtšinu metod navržených k øešení tìchto problémù. Hlavní dichotomie v
termíny metod øešení jsou samozøejmì mezi pøesnými metodami na jedné stranì a heuristickými metodami na stranì druhé. Pøestože realistické stochastické problémy VRP se èasto obtížnì øeší, byly s urèitým úspìchem použity pøesné metody. Tyto metody považují problém za zvláštní pøípad celoèíselného nebo smíšeného celoèíselného programu a používají nìjakou formu vìtvení, takže nakonec bude nalezeno pravdìpodobnì optimální øešení. I když jsou tyto metody používány v pøípadech, které jsou pøíliš velké na plnou konvergenci, mohou èasto najít velmi dobrá øešení. 
[6]



2.2 Heuristic approaches

There are many stochastic problems with no exact solution method known to work
for reasonable sized problems. This creates the need for heuristics, which, even
though they do not guarantee to find an optimal solution to the problems, may be
able to find a good solution to them. This is a popular and growing area in the
literature.

Existuje mnoho stochastických problémù bez známé metody øešení, o které je známo, že fungují
za rozumné problémy. To vytváøí potøebu heuristiky, která dokonce
aèkoli nezaruèují nalezení optimálního øešení problémù, mohou být
najít pro nì dobré øešení. Jedná se o populární a rostoucí oblast v EU
literatura.

LS
The role of a LS is to improve a
given solution by performing a set of small modifications (or moves) to the studied
solution. One can say that the LS visits the neighborhood of the studied solution
and selects the best neighboring solution according to some criterion. After some
iterations, the LS is no longer able produce better quality solutions using the same
set of moves. We say that the heuristic is trapped in a local optimum.

Role LS je zlepšovat
dané øešení provedením sady malých úprav (nebo tahù) studovaného
øešení. Dá se øíci, že LS navštìvuje okolí studovaného øešení
a vybere nejlepší sousední øešení podle nìjakého kritéria. Po nìjakém
iterací, LS již není schopna vyrábìt kvalitnìjší øešení s použitím stejných
sada pohybù. Øíkáme, že heuristika je uvìznìna v lokálním optimu.

ILS
We recall that ILS principle is to improve a given initial solution by alternating
local search (LS) and perturbation procedures. 
To help LS to escape local optima, ILS provides a perturbation procedure.
The latter procedure performs some changes to the current local optimum, producing
thereby a new starting solution for the LS. The quality of that new
starting solution is generally not as good as the quality of the local optimum.
That decrease in the solution quality induced by the perturbation procedure
allows the LS to visit a larger search space area.
In the present paper, we attempt to improve a simple ILS heuristic by modifying
its local search and perturbation procedures. Several ILS hybridizations
are implemented based on several simple LS heuristics, a Variable Neighborhood
Descent with Random neighborhood ordering (RVND) and a Large Neighborhood
Search heuristic (LNS).
3.2 Iterated Local Search
ILS principle is described in Sect. 1. The pseudo-code of the ILS heuristic used
in the present paper is given in Algorithm 2. ILS starts from an initial solution
given by the construction heuristic presented in Sect. 3.1. Then a local search
procedure is executed for a given number of iterations. If the obtained solution
is better than the current best one, the best solution is replaced by the obtained
one. The solution is, after that, perturbed using a perturbation procedure. The
process is repeated until a stopping criterion is met. In the present work, the
stopping criterion stands for the completion of a given number of iterations
without improvement.

Pøipomínáme, že principem ILS je zlepšit dané poèáteèní øešení støídáním
postupy místního vyhledávání (LS) a poruchy.
Aby LS mohla uniknout místním optimùm, poskytuje ILS poruchový postup.
Poslednì uvedený postup provádí nìkteré zmìny souèasného lokálního optima
tím nové výchozí øešení pro LS. Kvalita toho nového
výchozí øešení obvykle není tak dobré jako kvalita místního optima.
Toto snížení kvality roztoku vyvolané poruchou
umožòuje LS navštívit vìtší oblast vyhledávacího prostoru.
V tomto èlánku se pokoušíme vylepšit jednoduchou heuristiku ILS úpravou
její místní rešeršní a poruchové postupy. Nìkolik hybridizací ILS
jsou implementovány na základì nìkolika jednoduchých heuristik LS, variabilního sousedství
Sestup s náhodným uspoøádáním sousedství (RVND) a velkým sousedstvím
Prohledejte heuristiku (LNS).
3.2 Iterované místní vyhledávání
Princip ILS je popsán v Sect. 1. Použitý pseudokód heuristiky ILS                                                                       
v tomto èlánku je uveden v Algoritmu 2. ILS zaèíná od poèáteèního øešení
dáno konstrukèní heuristikou prezentovanou v Sect. 3.1. Pak místní vyhledávání
procedura se provádí pro daný poèet iterací. Pokud je získané øešení
je lepší než ten souèasný nejlepší, nejlepší øešení je nahrazeno získaným
jeden. Øešení je poté rozrušeno použitím poruchového postupu.
proces se opakuje, dokud není splnìno kritérium zastavení. V této práci se
kritérium zastavení znamená dokonèení daného poètu iterací
bez vylepšení.
[2]


4.1 Principle and general structure
The proposed metaheuristic is a multi-start iterated local search (MS-ILS) calling a
variable neighborhood descent (VND). Iterated local search has proved its efficiency
on various optimization problems, see the tutorial of Lourenço et al. [47]. The MSILS
variant, consisting in restarting an ILS from several initial solutions to diversify
the search, has given excellent solutions on the CVRP [63]. VND is a kind of local
search in which wider and wider neighborhoods are successively explored [53]. The
resulting hybrid metaheuristic is sketched in Algorithm 1 while its internal components
are described in the sequel.
MaxStart successive ILS are executed

Navrhovaná metaheuristika je opakované lokální vyhledávání (MS-ILS) s více starty, které volá
variabilní sestup sousedství (VND). Efektivita prokázala opakované místní vyhledávání
k rùzným optimalizaèním problémùm viz tutoriál Lourenço et al. [47]. MSILS
varianta, spoèívající v restartování ILS z nìkolika poèáteèních øešení pro diverzifikaci
vyhledávání poskytlo na CVRP vynikající øešení [63]. VND je druh místní
vyhledávání, v nìmž se postupnì zkoumají širší a širší okolí [53].
výsledná hybridní metaheuristika je naèrtnuta v Algoritmu 1, zatímco její vnitøní komponenty
jsou popsány v pokraèování.
Vyvolá se po sobì následující ILS
[3]

TABU SEARCH
Tabu search enhances the performance of local search by relaxing its basic rule. First, at each step worsening moves can be accepted if no improving move is available (like when the search is stuck at a strict local minimum). In addition, prohibitions (henceforth the term tabu) are introduced to discourage the search from coming back to previously-visited solutions.

Tabu search zvyšuje výkon lokálního vyhledávání uvolnìním jeho základního pravidla. Za prvé, v každém kroku mohou být pøijaty zhoršující pohyby, pokud není k dispozici žádný zlepšující pohyb (jako když je hledání uvíznuto na pøísném místním minimu). Kromì toho jsou zavedeny zákazy (dále jen „tabu“), které odrazují vyhledávání od návratu k døíve navštíveným øešením.




 MP solvers are in most of optimization software availabke in the market place. Existuji jak komercni reseni napr. LINGO nebo Gurobi tak i volne dostupne napr SCIP.




https://cs.wikipedia.org/wiki/Probl%C3%A9m_obchodn%C3%ADho_cestuj%C3%ADc%C3%ADho
 